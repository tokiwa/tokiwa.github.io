<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<!--出典：http://sites.google.com/site/gorogoronyan/Home/html5-iroiro/javascript -->
<title>canvas on HTML5</title>
<script>

var timer1;

var width = 400;
var height = 300;

var ボールX = 100;
var ボールY = 100;
var ボールの半径 = 35;
var 速度X = 5;
var 速度Y = 5;
var 色H = 0;

function 表示更新(){
	ボールの表示更新();
}

function ボールの表示更新(){
	var canvas = document.getElementById("canvas1");
	var c = canvas.getContext("2d");
	c.clearRect(0, 0, width, height);

	var rgrad = c.createRadialGradient(ボールX-10, ボールY-10, 5, ボールX, ボールY, ボールの半径+5);

	c.shadowColor = "#666666"; //firefox は必須
	c.shadowBlur = 5;
	c.shadowOffsetX = 4;
	c.shadowOffsetY = 3;
	c.beginPath();
	c.fillStyle = "#ff0000";
	c.arc(ボールX, ボールY, ボールの半径, 0, Math.PI*2,false);
	c.fill();
}

function start(){
	clearInterval(timer1);
	表示更新();
	timer1 = setInterval("時間経過()", 25);
}

function 時間経過(){
	ボールX += 速度X;
	if (ボールX < ボールの半径 || (width - ボールの半径) < ボールX){
		速度X = - 速度X;
	}

	ボールY += 速度Y;
	if (ボールY < ボールの半径 || (height - ボールの半径) < ボールY){
		速度Y = - 速度Y;
	}

	色H ++;
	if (360 <= 色H)
		色H = 0;

	表示更新();
}

</script>
<style>
body { background-color:#cccccc; }
canvas { background-color:#ffffff; }
</style>
</head>
<body onload="start()">
<canvas id="canvas1" width="400" height="300"></canvas>
<div id="ball_pos"></div><br/>
</body>
</html>
