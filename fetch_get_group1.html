<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <title>WebAPI sample - fetch/get</title>
</head>

<body>
  <button id='click'>Get message from AWS lambda</button>
  <div id='msg'>
    <script>
      const button = document.getElementById('click');
      const name = encodeURIComponent("tokiwa");
      const score =  encodeURIComponent(200);
      button.addEventListener('click', () => {
//        fetch(`https://at92482466.execute-api.ap-northeast-1.amazonaws.com/dev/parrot-get?name=${name}&score=${score}`)
        fetch(`https://e6iw74rmpb.execute-api.ap-northeast-1.amazonaws.com/default/mogura-fe2-1`)        
          .then(response => {
            return response.json();
          })
          .then(result => {
//            msg.innerText = result['name'];
            msg.innerText = JSON.stringify(result);             
          })
          .catch((e) => {
            console.log(e)
          })
      });
    </script>
</body>

</html>